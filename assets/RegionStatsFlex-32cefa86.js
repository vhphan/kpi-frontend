import{f as K,i as J,g as W,h as X,j as Y,k as ee,l as te,m as ae,n as ne,p as le,r as Z,q as R,s as ie,v as j,x as u,y as z,o as m,c as C,u as a,S as oe,z as re,A as Q,B as se,C as ue,D as de,E as ce,F as _,e as f,a as o,G as pe,H as me,t as w,I as ge,w as p,J as fe,K as L,d as ye,L as xe,M as q,N as $,O as E,P as N,R as D,Q as he}from"./index-8aa8e289.js";const B={__name:"EChartLineMulti",props:{data:{type:Array,required:!0},colorMapping:{type:Object,default:()=>{}},kpiColumn:{type:String,required:!0},addOption:{type:Object,default:()=>{}},showZoom:{type:Boolean,default:!0},timeUnit:{type:String,default:"daily"},theme:{type:String,default:"dark"},region:{type:String,default:""},cellName:{type:String,default:""}},setup(s){const t=s,i="Asia/Singapore",n=function(y,x,P=""){if(x===void 0){debugger;return{}}if(!x.map){debugger;return{}}return{renderer:"canvas",legend:{top:"11%",left:"10%",padding:[0,0,0,10],show:!0},dataZoom:[{type:"slider",show:t.showZoom}],grid:{left:"11%",top:"20%",right:"11%",bottom:t.showZoom?"25%":"13%"},xAxis:{type:"time",splitLine:{show:!1}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:e=>`${Math.round(e[0].value[1]*100)/100}`},title:{text:y,textStyle:{fontSize:15},triggerEvent:!0},yAxis:{splitLine:{show:!1},type:"value",scale:!0,name:"",axisLabel:{inside:!1,formatter:e=>e>=1e6?`${(e/1e6).toFixed(0)}M`:e>=1e3?`${(e/1e3).toFixed(0)}k`:e}},series:x.map(e=>{if(!e.data||!e.data.map)return{};const h={data:e.data.map(v=>[re(v[0],i),v[1]]),type:"line",name:e.name};return t.colorMapping[e.name]?{...h,itemStyle:{color:t.colorMapping[e.name]}}:h}),...t.addOption}},r=n(t.kpiColumn,t.data);K([J,W,X,Y,ee,te,ae,ne,le]);const d=Z(null);R(d,y=>{d.value&&ie(t.timeUnit)},{immediate:!0});const b=()=>{d.value&&d.value.setOption(n(t.kpiColumn,t.data,t.seriesName))};R([()=>t.data,()=>t.colorMapping],()=>{b()},{deep:!0});const k=j(),{darkMode:F}=u(k),M=z(()=>F.value?"dark":"light");return(y,x)=>(m(),C(a(oe),{ref_key:"chartRef",ref:d,option:a(r),theme:a(M),autoresize:!0,style:{height:"300px"},group:s.timeUnit},null,8,["option","theme","group"]))}},ve={class:"row"},Se={key:0,class:"col q-pl-md q-pt-md"},_e={class:"row"},Re={class:"row"},Fe={__name:"RegionStatsFlex",props:{timeUnit:{type:String,required:!0,validator(s){return["daily","hourly"].includes(s)}}},setup(s){const t=s,i=j(),n=Z("nr"),{selectedRegion:r,kpiColumnsFlex:d,kpiColumnsFlexHourly:b,kpiToExclude:k}=u(i),F=t.timeUnit==="daily"?Q.dailyStatsRegionFlex:Q.hourlyStatsRegionFlex,M=z(()=>se(F,{tech:n.value,region:r.value})),y=[ue(M)],{isFetchingArray:x,errorArray:P,dataArray:e,isLoading:h,execute:v}=de(y,()=>{e.length>=0+1&&e.at(0).value&&e.at(0).value.data&&(t.timeUnit==="daily"&&(i.dailyStatsRegionFlex[n.value]=e.at(0).value.data,i.dailyStatsRegionFlexMeta[n.value]=e.at(0).value.meta),t.timeUnit==="hourly"&&(i.hourlyStatsRegionFlex[n.value]=e.at(0).value.data,i.hourlyStatsRegionFlexMeta[n.value]=e.at(0).value.meta))}),G=function(c){if(c==="daily")return u(i).dailyStatsRegionFlex;if(c==="hourly")return u(i).hourlyStatsRegionFlex},H=function(c){if(c==="daily")return d;if(c==="hourly")return b},U=G(t.timeUnit),V=H(t.timeUnit),T=ce();R(h,()=>{if(h.value){T.loading.show({});return}T.loading.hide()});const{regionsArray:I}=u(i);R([r,n],()=>{v&&v().then(()=>{console.log(`Executed for ${r.value}`)})},{immediate:!0});const S=function(){if(t.timeUnit==="daily")return u(i).dailyStatsRegionFlexMeta;if(t.timeUnit==="hourly")return u(i).hourlyStatsRegionFlexMeta}(),{colorMapping:A,chartSizeClass:O}=u(i);return(c,g)=>(m(),_($,null,[f("div",ve,[o(me,{options:a(I),modelValue:a(r),"onUpdate:modelValue":g[0]||(g[0]=l=>pe(r)?r.value=l:null),class:"col-xs-12 col-md-6 col-lg-4 col-xl-3 q-mb-md",outlined:""},null,8,["options","modelValue"]),a(S)[n.value].time?(m(),_("div",Se,[f("span",null,"Data Fetched @: "+w(new Date(a(S)[n.value].time))+",  ",1),f("span",null,"Region: "+w(a(S)[n.value].region)+",  ",1),f("span",null,"Tech: "+w(a(S)[n.value].tech.toUpperCase())+",  ",1)])):ge("",!0)]),o(he,null,{default:p(()=>[o(fe,{modelValue:n.value,"onUpdate:modelValue":g[1]||(g[1]=l=>n.value=l),dense:"",class:"",style:{border:"1px solid #6a6af1"},"active-color":"primary",align:"justify","narrow-indicator":"","active-class":"bg-primary text-white"},{default:p(()=>[o(L,{name:"nr",label:"NR"}),o(L,{name:"lte",label:"LTE"})]),_:1},8,["modelValue"]),o(ye),o(xe,{modelValue:n.value,"onUpdate:modelValue":g[2]||(g[2]=l=>n.value=l),animated:""},{default:p(()=>[o(q,{name:"nr"},{default:p(()=>[f("div",_e,[(m(!0),_($,null,E(a(V).nr.filter(l=>a(k).indexOf(l)===-1),l=>(m(),C(N,{key:`flex-${n.value}-${l}`,class:D(a(O).value),style:{border:"1px blue solid"}},{default:p(()=>[o(B,{data:a(U).nr[l],kpiColumn:l,"time-unit":s.timeUnit,region:a(r),"color-mapping":a(A)},null,8,["data","kpiColumn","time-unit","region","color-mapping"])]),_:2},1032,["class"]))),128))])]),_:1}),o(q,{name:"lte"},{default:p(()=>[f("div",Re,[(m(!0),_($,null,E(a(V).lte,l=>(m(),C(N,{key:`flex-${n.value}-${l}`,class:D(a(O).value),style:{border:"1px blue solid"}},{default:p(()=>[o(B,{data:a(U).lte[l],kpiColumn:l,"time-unit":s.timeUnit,region:a(r),"color-mapping":a(A)},null,8,["data","kpiColumn","time-unit","region","color-mapping"])]),_:2},1032,["class"]))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}};export{Fe as _};

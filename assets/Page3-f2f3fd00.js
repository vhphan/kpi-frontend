import{u as G,i as I,a as H,b as J,c as K,d as W,e as X,f as Y,g as ee,h as te,r as Z,w as _,j as ae,k as j,s as m,l as z,o as u,m as R,n as t,S as ne,p as le,q as E,t as ie,v as oe,x as re,y as se,z as y,A as x,B as o,C as ue,Q as de,D as F,E as ce,F as p,G as C,H as O,I as me,J as L,K as pe,L as ge,M as Q,N as q,O as D}from"./index-8ea5d414.js";const B={__name:"EChartLineMulti",props:{data:{type:Array,required:!0},colorMapping:{type:Object,default:()=>{}},kpiColumn:{type:String,required:!0},addOption:{type:Object,default:()=>{}},showZoom:{type:Boolean,default:!0},timeUnit:{type:String,default:"daily"},theme:{type:String,default:"dark"},region:{type:String,default:""},cellName:{type:String,default:""}},setup(r){const e=r,i="Asia/Singapore",a=function(h,U,c=""){return{renderer:"canvas",legend:{top:"11%",left:"10%",padding:[0,0,0,10],show:!0},dataZoom:[{type:"slider",show:e.showZoom}],grid:{left:"11%",top:"20%",right:"11%",bottom:e.showZoom?"25%":"13%"},xAxis:{type:"time",splitLine:{show:!1}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:n=>`${Math.round(n[0].value[1]*100)/100}`},title:{text:h,textStyle:{fontSize:15},triggerEvent:!0},yAxis:{splitLine:{show:!1},type:"value",scale:!0,name:"",axisLabel:{inside:!1,formatter:n=>n>=1e3?n.toExponential(0):n}},series:U.map(n=>{if(!n.data||!n.data.map)return{};const f={data:n.data.map($=>[le($[0],i),$[1]]),type:"line",name:n.name};return e.colorMapping[n.name]?{...f,itemStyle:{color:e.colorMapping[n.name]}}:f}),...e.addOption}},s=a(e.kpiColumn,e.data);G([I,H,J,K,W,X,Y,ee,te]);const d=Z(null);_(d,h=>{d.value&&ae(e.timeUnit)},{immediate:!0});const b=()=>{d.value&&d.value.setOption(a(e.kpiColumn,e.data,e.seriesName))};_([()=>e.data,()=>e.colorMapping],()=>{b()},{deep:!0});const k=j(),{darkMode:M}=m(k),w=z(()=>M.value?"dark":"light");return(h,U)=>(u(),R(t(ne),{ref_key:"chartRef",ref:d,option:t(s),theme:t(w),autoresize:!0,style:{height:"300px"},group:r.timeUnit},null,8,["option","theme","group"]))}},ye={class:"row"},fe={key:0,class:"col q-pl-md q-pt-md"},xe={class:"row"},he={key:0,class:"row"},ve={key:1,class:"text-h6"},Se={__name:"RegionStatsFlex",props:{timeUnit:{type:String,required:!0,validator(r){return["daily","hourly"].includes(r)}}},setup(r){const e=r,i=j(),a=Z("nr"),{selectedRegion:s,kpiColumnsFlex:d,kpiToExclude:b}=m(i),k=e.timeUnit==="daily"?E.dailyStatsRegionFlex:E.hourlyStatsRegionFlex,M=z(()=>ie(k,{tech:a.value,region:s.value})),w=[oe(M)],{isFetchingArray:h,errorArray:U,dataArray:c,isLoading:n,execute:f}=re(w,()=>{c.length>=0+1&&c.at(0).value&&c.at(0).value.data&&(e.timeUnit==="daily"&&(i.dailyStatsRegionFlex[a.value]=c.at(0).value.data,i.dailyStatsRegionFlexMeta[a.value]=c.at(0).value.meta),e.timeUnit==="hourly"&&(i.hourlyStatsRegionFlex[a.value]=c.at(0).value.data,i.hourlyStatsRegionFlexMeta[a.value]=c.at(0).value.meta))}),V=function(S){if(S==="daily")return m(i).dailyStatsRegionFlex;if(S==="hourly")return m(i).hourlyStatsRegionFlex}(e.timeUnit),A=se();_(n,()=>{if(n.value){A.loading.show({});return}A.loading.hide()});const{regionsArray:P}=m(i);_([s,a],()=>{f&&f().then(()=>{console.log(`Executed for ${s.value}`)})},{immediate:!0});const v=function(){if(e.timeUnit==="daily")return m(i).dailyStatsRegionFlexMeta;if(e.timeUnit==="hourly")return m(i).hourlyStatsRegionFlexMeta}(),{colorMapping:T,chartSizeClass:N}=m(i);return(S,g)=>(u(),y(O,null,[x("div",ye,[o(de,{options:t(P),modelValue:t(s),"onUpdate:modelValue":g[0]||(g[0]=l=>ue(s)?s.value=l:null),class:"col-xs-12 col-md-6 col-lg-4 col-xl-3 q-mb-md",outlined:""},null,8,["options","modelValue"]),t(v)[a.value].time?(u(),y("div",fe,[x("span",null,"Data Fetched @: "+F(new Date(t(v)[a.value].time))+",  ",1),x("span",null,"Region: "+F(t(v)[a.value].region)+",  ",1),x("span",null,"Tech: "+F(t(v)[a.value].tech.toUpperCase())+",  ",1)])):ce("",!0)]),o(C,null,{default:p(()=>[o(me,{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=l=>a.value=l),dense:"",class:"",style:{border:"1px solid #6a6af1"},"active-color":"primary",align:"justify","narrow-indicator":"","active-class":"bg-primary text-white"},{default:p(()=>[o(L,{name:"nr",label:"NR"}),o(L,{name:"lte",label:"LTE"})]),_:1},8,["modelValue"]),o(pe),o(ge,{modelValue:a.value,"onUpdate:modelValue":g[2]||(g[2]=l=>a.value=l),animated:""},{default:p(()=>[o(Q,{name:"nr"},{default:p(()=>[x("div",xe,[(u(!0),y(O,null,q(t(d).nr.filter(l=>t(b).indexOf(l)===-1),l=>(u(),R(C,{key:`flex-${a.value}-${l}`,class:D(t(N).value),style:{border:"1px blue solid"}},{default:p(()=>[o(B,{data:t(V).nr[l],kpiColumn:l,"time-unit":r.timeUnit,region:t(s),"color-mapping":t(T)},null,8,["data","kpiColumn","time-unit","region","color-mapping"])]),_:2},1032,["class"]))),128))])]),_:1}),o(Q,{name:"lte"},{default:p(()=>[r.timeUnit==="daily"?(u(),y("div",he,[(u(!0),y(O,null,q(t(d).lte,l=>(u(),R(C,{key:`flex-${a.value}-${l}`,class:D(t(N).value),style:{border:"1px blue solid"}},{default:p(()=>[o(B,{data:t(V).lte[l],kpiColumn:l,"time-unit":r.timeUnit,region:t(s),"color-mapping":t(T)},null,8,["data","kpiColumn","time-unit","region","color-mapping"])]),_:2},1032,["class"]))),128))])):(u(),y("div",ve,"COMING SOON... Work In Progress."))]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}},be={__name:"Page3",setup(r){return(e,i)=>(u(),R(Se,{"time-unit":"daily"}))}};export{be as default};

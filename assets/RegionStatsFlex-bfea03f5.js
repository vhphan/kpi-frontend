import{u as I,i as J,a as W,b as X,d as Y,e as ee,f as te,g as ae,h as ne,j as le,r as Z,w as _,k as ie,l as j,s as u,m as z,o as m,c as $,n as a,S as oe,p as re,q as L,t as se,v as ue,x as de,y as ce,z as R,A as f,B as o,C as pe,Q as me,D as F,E as ge,F as p,G as C,H as U,I as fe,J as Q,K as ye,L as xe,M as q,N,O as D}from"./index-a3c292f7.js";const B={__name:"EChartLineMulti",props:{data:{type:Array,required:!0},colorMapping:{type:Object,default:()=>{}},kpiColumn:{type:String,required:!0},addOption:{type:Object,default:()=>{}},showZoom:{type:Boolean,default:!0},timeUnit:{type:String,default:"daily"},theme:{type:String,default:"dark"},region:{type:String,default:""},cellName:{type:String,default:""}},setup(s){const e=s,i="Asia/Singapore",n=function(y,x,P=""){if(x===void 0){debugger;return{}}if(!x.map){debugger;return{}}return{renderer:"canvas",legend:{top:"11%",left:"10%",padding:[0,0,0,10],show:!0},dataZoom:[{type:"slider",show:e.showZoom}],grid:{left:"11%",top:"20%",right:"11%",bottom:e.showZoom?"25%":"13%"},xAxis:{type:"time",splitLine:{show:!1}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:t=>`${Math.round(t[0].value[1]*100)/100}`},title:{text:y,textStyle:{fontSize:15},triggerEvent:!0},yAxis:{splitLine:{show:!1},type:"value",scale:!0,name:"",axisLabel:{inside:!1,formatter:t=>t>=1e3?t.toExponential(0):t}},series:x.map(t=>{if(!t.data||!t.data.map)return{};const h={data:t.data.map(v=>[re(v[0],i),v[1]]),type:"line",name:t.name};return e.colorMapping[t.name]?{...h,itemStyle:{color:e.colorMapping[t.name]}}:h}),...e.addOption}},r=n(e.kpiColumn,e.data);I([J,W,X,Y,ee,te,ae,ne,le]);const d=Z(null);_(d,y=>{d.value&&ie(e.timeUnit)},{immediate:!0});const b=()=>{d.value&&d.value.setOption(n(e.kpiColumn,e.data,e.seriesName))};_([()=>e.data,()=>e.colorMapping],()=>{b()},{deep:!0});const k=j(),{darkMode:w}=u(k),M=z(()=>w.value?"dark":"light");return(y,x)=>(m(),$(a(oe),{ref_key:"chartRef",ref:d,option:a(r),theme:a(M),autoresize:!0,style:{height:"300px"},group:s.timeUnit},null,8,["option","theme","group"]))}},he={class:"row"},ve={key:0,class:"col q-pl-md q-pt-md"},Se={class:"row"},Re={class:"row"},ke={__name:"RegionStatsFlex",props:{timeUnit:{type:String,required:!0,validator(s){return["daily","hourly"].includes(s)}}},setup(s){const e=s,i=j(),n=Z("nr"),{selectedRegion:r,kpiColumnsFlex:d,kpiColumnsFlexHourly:b,kpiToExclude:k}=u(i),w=e.timeUnit==="daily"?L.dailyStatsRegionFlex:L.hourlyStatsRegionFlex,M=z(()=>se(w,{tech:n.value,region:r.value})),y=[ue(M)],{isFetchingArray:x,errorArray:P,dataArray:t,isLoading:h,execute:v}=de(y,()=>{t.length>=0+1&&t.at(0).value&&t.at(0).value.data&&(e.timeUnit==="daily"&&(i.dailyStatsRegionFlex[n.value]=t.at(0).value.data,i.dailyStatsRegionFlexMeta[n.value]=t.at(0).value.meta),e.timeUnit==="hourly"&&(i.hourlyStatsRegionFlex[n.value]=t.at(0).value.data,i.hourlyStatsRegionFlexMeta[n.value]=t.at(0).value.meta))}),G=function(c){if(c==="daily")return u(i).dailyStatsRegionFlex;if(c==="hourly")return u(i).hourlyStatsRegionFlex},H=function(c){if(c==="daily")return d;if(c==="hourly")return b},V=G(e.timeUnit),T=H(e.timeUnit),A=ce();_(h,()=>{if(h.value){A.loading.show({});return}A.loading.hide()});const{regionsArray:K}=u(i);_([r,n],()=>{v&&v().then(()=>{console.log(`Executed for ${r.value}`)})},{immediate:!0});const S=function(){if(e.timeUnit==="daily")return u(i).dailyStatsRegionFlexMeta;if(e.timeUnit==="hourly")return u(i).hourlyStatsRegionFlexMeta}(),{colorMapping:O,chartSizeClass:E}=u(i);return(c,g)=>(m(),R(U,null,[f("div",he,[o(me,{options:a(K),modelValue:a(r),"onUpdate:modelValue":g[0]||(g[0]=l=>pe(r)?r.value=l:null),class:"col-xs-12 col-md-6 col-lg-4 col-xl-3 q-mb-md",outlined:""},null,8,["options","modelValue"]),a(S)[n.value].time?(m(),R("div",ve,[f("span",null,"Data Fetched @: "+F(new Date(a(S)[n.value].time))+",  ",1),f("span",null,"Region: "+F(a(S)[n.value].region)+",  ",1),f("span",null,"Tech: "+F(a(S)[n.value].tech.toUpperCase())+",  ",1)])):ge("",!0)]),o(C,null,{default:p(()=>[o(fe,{modelValue:n.value,"onUpdate:modelValue":g[1]||(g[1]=l=>n.value=l),dense:"",class:"",style:{border:"1px solid #6a6af1"},"active-color":"primary",align:"justify","narrow-indicator":"","active-class":"bg-primary text-white"},{default:p(()=>[o(Q,{name:"nr",label:"NR"}),o(Q,{name:"lte",label:"LTE"})]),_:1},8,["modelValue"]),o(ye),o(xe,{modelValue:n.value,"onUpdate:modelValue":g[2]||(g[2]=l=>n.value=l),animated:""},{default:p(()=>[o(q,{name:"nr"},{default:p(()=>[f("div",Se,[(m(!0),R(U,null,N(a(T).nr.filter(l=>a(k).indexOf(l)===-1),l=>(m(),$(C,{key:`flex-${n.value}-${l}`,class:D(a(E).value),style:{border:"1px blue solid"}},{default:p(()=>[o(B,{data:a(V).nr[l],kpiColumn:l,"time-unit":s.timeUnit,region:a(r),"color-mapping":a(O)},null,8,["data","kpiColumn","time-unit","region","color-mapping"])]),_:2},1032,["class"]))),128))])]),_:1}),o(q,{name:"lte"},{default:p(()=>[f("div",Re,[(m(!0),R(U,null,N(a(T).lte,l=>(m(),$(C,{key:`flex-${n.value}-${l}`,class:D(a(E).value),style:{border:"1px blue solid"}},{default:p(()=>[o(B,{data:a(V).lte[l],kpiColumn:l,"time-unit":s.timeUnit,region:a(r),"color-mapping":a(O)},null,8,["data","kpiColumn","time-unit","region","color-mapping"])]),_:2},1032,["class"]))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}};export{ke as _};

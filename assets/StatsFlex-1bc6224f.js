import{e as Z,s as g,f as T,g as A,i as H,h as G,j as J,k as W,l as X,m as Y,n as ee,p as te,q as le,r as N,v as ae,x as se,o as r,c as L,y as d,u as t,S as ie,N as P,a,w as n,K as oe,D as E,z as ne,A as re,B as ue,C as de,E as ce,G as me,H as B,I as pe,J as ye,L as O,M as S,O as z,P as fe,R as he,b as w,T as _,_ as ge,U as xe,V as Se,W as ve,X as ke,Y as Ce,Z as U,$ as Me,a0 as Fe,Q as be,F as R,a1 as _e,a2 as we,a3 as D,a4 as V,a5 as $e,a6 as Le,a7 as I,a8 as Ue,a9 as De,aa as K,ab as Ve,ac as Te,ad as Oe}from"./index-22d586db.js";const qe={__name:"EChartLineMulti",props:{data:{type:Array,required:!0},colorMapping:{type:Object,default:()=>{}},kpiColumn:{type:String,required:!0},addOption:{type:Object,default:()=>{}},showZoom:{type:Boolean,default:!0},timeUnit:{type:String,default:"daily"},theme:{type:String,default:"dark"},cellName:{type:String,default:""},showLegend:{type:Boolean,default:!0},tech:{type:String,default:"nr"},meta:{type:Object,default:()=>{}}},setup(i){const s=i,e=Z(),{dataZoomStart:o,dataZoomEnd:x,selectedOperators:y}=g(e),v=T(()=>e.chartColors.flex.backgroundColor[M.value][s.tech]),k=function(){const{kpiColumn:p,data:c,showLegend:F}=s;if(c===void 0)return{};if(!c.map)return{};const b=c.filter(l=>y.value.includes(l.name));return{renderer:"canvas",legend:{top:"11%",left:"10%",padding:[0,0,0,10],show:F},dataZoom:[{type:"slider",start:o.value[s.timeUnit],end:x.value[s.timeUnit],show:s.showZoom}],grid:{left:"11%",top:"20%",right:"11%",bottom:s.showZoom?"25%":"13%"},backgroundColor:v.value,xAxis:{type:"time",splitLine:{show:!1}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:l=>`${Math.round(l[0].value[1]*100)/100}`},title:{text:p,textStyle:{fontSize:15},triggerEvent:!0},yAxis:{splitLine:{show:!1},type:"value",scale:!0,name:"",axisLabel:{inside:!1,formatter:l=>l>=1e6?`${(l/1e6).toFixed(2)}M`:l>=1e3?`${(l/1e3).toFixed(0)}k`:l}},series:b.map(l=>{if(!l.data||!l.data.map)return{};const u={data:l.data.map(m=>[ne(m[0],re),m[1]]).sort((m,j)=>m[0]-j[0]),type:"line",name:l.name};return s.colorMapping[l.name]?{...u,itemStyle:{color:s.colorMapping[l.name]}}:u}),...s.addOption}},f=T(()=>k());A([H,G,J,W,X,Y,ee,te,le]);const C=N(null);ae(C,p=>{C.value&&se(s.timeUnit)},{immediate:!0});const{darkMode:h}=g(e),M=T(()=>h.value?"dark":"light"),q=function(p){e.updateDataZoom(p,s.timeUnit)},$=N(!1),Q=function(p){p.componentType==="title"&&($.value=!0)};return(p,c)=>(r(),L("div",null,[i.data&&i.data.length>0?(r(),d(t(ie),{key:0,ref_key:"chartRef",ref:C,option:t(f),theme:t(M),autoresize:!0,style:{height:"300px"},group:i.timeUnit,onDatazoom:q,id:i.kpiColumn,onClick:Q},null,8,["option","theme","group","id"])):(r(),d(P,{key:1,"kpi-column":i.kpiColumn},null,8,["kpi-column"])),a(E,{"model-dialog":$.value,onOnHide:c[0]||(c[0]=F=>$.value=!1),title:"KPI Formula"},{default:n(()=>[a(oe,{"kpi-name":i.kpiColumn,"kpi-type":"flex",tech:i.tech},null,8,["kpi-name","tech"])]),_:1},8,["model-dialog"])]))}},Qe={__name:"OperatorsSelector",setup(i){const s=Z(),{selectorClass:e}=s,o=T({get(){return s.selectedOperators},set(y){s.selectedOperators=y}}),x=ue.map(y=>({label:y,value:y}));return(y,v)=>(r(),L("div",null,[a(z,{filled:"",modelValue:t(o),"onUpdate:modelValue":v[0]||(v[0]=k=>O(o)?o.value=k:null),options:t(x),label:"MNO to Display",multiple:"","emit-value":"","map-options":"",style:{"min-width":"200px","max-width":"251px","max-height":"20px"},class:S(t(e))},{option:n(({itemProps:k,opt:f,selected:C,toggleOption:h})=>[a(de,ce(me(k)),{default:n(()=>[a(B,null,{default:n(()=>[a(pe,{innerHTML:f.label},null,8,["innerHTML"])]),_:2},1024),a(B,{side:""},{default:n(()=>[a(ye,{"model-value":C,"onUpdate:modelValue":M=>h(f)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","class"])]))}},Re={class:"row"},Ne={style:{height:"4rem","padding-top":"0"}},Ze=w("legend",null,"Data",-1),Be={style:{height:"4rem","padding-top":"0"}},Ie=w("legend",null,"KPI",-1),Ke={class:"row"},Ee={__name:"StatsFlex",props:{timeUnit:{type:String,required:!0,validator(i){return["daily","hourly"].includes(i)}},level:{type:String,required:!0,validator(i){return["cluster","region","cell","site","multipleCells","multipleSites"].includes(i)}}},setup(i){const s=i,e=Z(),{selectedTech:o}=g(e),{selectedRegion:x,selectedCluster:y,kpiToExclude:v}=g(e),f=function(){const b={daily:{region:e.dailyStatsRegionFlexMeta,cluster:e.dailyStatsClusterFlexMeta,cell:e.dailyStatsCellFlexMeta,site:e.dailyStatsSiteFlexMeta,multipleCells:e.dailyStatsMultipleCellsFlexMeta,multipleSites:e.dailyStatsMultipleSitesFlexMeta},hourly:{region:e.hourlyStatsRegionFlexMeta,cluster:e.hourlyStatsClusterFlexMeta,cell:e.hourlyStatsCellFlexMeta,site:e.hourlyStatsSiteFlexMeta,multipleCells:e.hourlyStatsMultipleCellsFlexMeta,multipleSites:e.hourlyStatsMultipleSitesFlexMeta}};if(b[s.timeUnit]&&b[s.timeUnit][s.level])return b[s.timeUnit][s.level];throw new Error("Invalid timeUnit or level")}(),h={cluster:{hourly:e.hourlyStatsClusterFlex,daily:e.dailyStatsClusterFlex},region:{hourly:e.hourlyStatsRegionFlex,daily:e.dailyStatsRegionFlex},cell:{hourly:e.hourlyStatsCellFlex,daily:e.dailyStatsCellFlex},site:{hourly:e.hourlyStatsSiteFlex,daily:e.dailyStatsSiteFlex},multipleCells:{hourly:e.hourlyStatsMultipleCellsFlex,daily:e.dailyStatsMultipleCellsFlex},multipleSites:{hourly:e.hourlyStatsMultipleSitesFlex,daily:e.dailyStatsMultipleSitesFlex}}[s.level][s.timeUnit],{fetchData:M}=fe("flex",s,h,f,o);g(e).kpiListFlex;const{kpiListToDisplayFlex:q}=g(e),{regionsArray:$}=g(e);he(()=>{console.log("onMounted"),M()});const{colorMapping:Q,chartSizeClass:p,selectorClass:c}=g(e),F=N(!1);return(b,l)=>(r(),L(R,null,[w("div",Re,[["multipleCells","multipleSites"].includes(i.level)?_("",!0):(r(),d(z,{key:0,options:t($),modelValue:t(x),"onUpdate:modelValue":l[0]||(l[0]=u=>O(x)?x.value=u:null),class:S(t(c)),outlined:""},null,8,["options","modelValue","class"])),i.level==="multipleCells"?(r(),d(ge,{key:1,tech:t(o)},null,8,["tech"])):_("",!0),i.level==="multipleSites"?(r(),d(xe,{key:2,"api-route-value":t(_e).verifySitesList,"store-key-update-time":"selectedMultipleSitesUpdateTime","store-key":"selectedMultipleSites",tech:t(o),"node-name":"site","sync-both-tech":"",example:"DBKLG0424"},null,8,["api-route-value","tech"])):_("",!0),s.level==="cluster"?(r(),d(Se,{key:3,class:S(t(c)),outlined:""},null,8,["class"])):_("",!0),i.level==="cell"?(r(),d(ve,{key:4,tech:t(o),class:S(t(c)),outlined:""},null,8,["tech","class"])):_("",!0),i.level==="site"?(r(),d(ke,{key:5,tech:t(o),class:S(t(c)),outlined:""},null,8,["tech","class"])):_("",!0),a(Ce,{"kpi-type":"flex",tech:t(o),class:S(t(c)),onNewVal:t(we)},null,8,["tech","class","onNewVal"]),a(Qe),w("fieldset",Ne,[Ze,a(U,{icon:"refresh",onClick:t(M),color:"primary",class:"q-mb-md q-ml-xs"},{default:n(()=>[a(D,null,{default:n(()=>[V(" Re-fetch data from server ")]),_:1})]),_:1},8,["onClick"]),a(Me,{"file-name":`${i.level}_${i.timeUnit}_flex_kpi.csv`,data:t(h)[t(o)],class:"q-mb-md q-ml-xs","kpi-type":"flex"},null,8,["file-name","data"])]),w("fieldset",Be,[Ie,a(U,{icon:"settings",class:"q-mb-xl q-ml-xs",color:"deep-orange-13",onClick:l[1]||(l[1]=u=>F.value=!0)},{default:n(()=>[a(D,null,{default:n(()=>[V(" Select KPI to display and order ")]),_:1})]),_:1}),t(e).showFlexLegend?(r(),d(U,{key:0,icon:"visibility_off",class:"q-mb-xl q-ml-xs",color:"deep-purple-13",onClick:l[2]||(l[2]=()=>t(e).showFlexLegend=!1)},{default:n(()=>[a(D,null,{default:n(()=>[V("Hide Chart Legend")]),_:1})]),_:1})):(r(),d(U,{key:1,icon:"visibility",class:"q-mb-xl q-ml-xs",color:"deep-purple-13",onClick:l[3]||(l[3]=()=>t(e).showFlexLegend=!0)},{default:n(()=>[a(D,null,{default:n(()=>[V("Show Chart Legend")]),_:1})]),_:1})),a($e)]),a(Fe,{tab:t(o),level:i.level,"store-meta":t(f)},null,8,["tab","level","store-meta"])]),a(be,null,{default:n(()=>[a(Le,{modelValue:t(o),"onUpdate:modelValue":l[4]||(l[4]=u=>O(o)?o.value=u:null),dense:"",class:"",style:{border:"1px solid #6a6af1"},"active-color":"primary",align:"justify","narrow-indicator":"","active-class":"bg-primary text-white"},{default:n(()=>[a(I,{name:"nr",label:"NR"}),a(I,{name:"lte",label:"LTE"})]),_:1},8,["modelValue"]),a(Ue),a(De,{modelValue:t(o),"onUpdate:modelValue":l[5]||(l[5]=u=>O(o)?o.value=u:null),animated:""},{default:n(()=>[(r(),L(R,null,K(["nr","lte"],u=>a(Te,{name:u},{default:n(()=>[w("div",Ke,[(r(!0),L(R,null,K(t(q)[u].filter(m=>t(v).indexOf(m)===-1),m=>(r(),d(Oe,{class:S(t(p).value),style:{border:"1px #d1d1f5 solid"},once:""},{default:n(()=>[t(h)[u][m]?(r(),d(qe,{key:0,data:t(h)[u][m],kpiColumn:m,"time-unit":i.timeUnit,"color-mapping":t(Q),"show-legend":t(e).showFlexLegend,tech:t(o),meta:t(f)},null,8,["data","kpiColumn","time-unit","color-mapping","show-legend","tech","meta"])):(r(),d(P,{key:1,"kpi-column":m},null,8,["kpi-column"]))]),_:2},1032,["class"]))),256))])]),_:2},1032,["name"])),64))]),_:1},8,["modelValue"])]),_:1}),a(E,{modelDialog:F.value,title:`Select KPI to Display and Order [${t(o).toUpperCase()}]`,onOnHide:l[6]||(l[6]=u=>F.value=!1)},{default:n(()=>[a(Ve,{"kpi-type":"flex",tech:t(o)},null,8,["tech"])]),_:1},8,["modelDialog","title"])],64))}};export{Ee as default};

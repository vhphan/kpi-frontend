import{u as G,i as I,a as H,b as J,d as K,e as W,f as X,g as Y,h as ee,j as te,r as Z,w as R,k as ae,l as j,s as m,m as z,o as u,c as O,n as t,S as le,p as ne,q as E,t as ie,v as oe,x as re,y as se,z as y,A as x,B as o,C as ue,Q as de,D as F,E as ce,F as p,G as $,H as C,I as me,J as L,K as pe,L as ge,M as Q,N as q,O as D}from"./index-5df661d6.js";const B={__name:"EChartLineMulti",props:{data:{type:Array,required:!0},colorMapping:{type:Object,default:()=>{}},kpiColumn:{type:String,required:!0},addOption:{type:Object,default:()=>{}},showZoom:{type:Boolean,default:!0},timeUnit:{type:String,default:"daily"},theme:{type:String,default:"dark"},region:{type:String,default:""},cellName:{type:String,default:""}},setup(s){const e=s,i="Asia/Singapore",a=function(h,w,c=""){return{renderer:"canvas",legend:{top:"11%",left:"10%",padding:[0,0,0,10],show:!0},dataZoom:[{type:"slider",show:e.showZoom}],grid:{left:"11%",top:"20%",right:"11%",bottom:e.showZoom?"25%":"13%"},xAxis:{type:"time",splitLine:{show:!1}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:l=>`${Math.round(l[0].value[1]*100)/100}`},title:{text:h,textStyle:{fontSize:15},triggerEvent:!0},yAxis:{splitLine:{show:!1},type:"value",scale:!0,name:"",axisLabel:{inside:!1,formatter:l=>l>=1e3?l.toExponential(0):l}},series:w.map(l=>{if(!l.data||!l.data.map)return{};const f={data:l.data.map(U=>[ne(U[0],i),U[1]]),type:"line",name:l.name};return e.colorMapping[l.name]?{...f,itemStyle:{color:e.colorMapping[l.name]}}:f}),...e.addOption}},r=a(e.kpiColumn,e.data);G([I,H,J,K,W,X,Y,ee,te]);const d=Z(null);R(d,h=>{d.value&&ae(e.timeUnit)},{immediate:!0});const _=()=>{d.value&&d.value.setOption(a(e.kpiColumn,e.data,e.seriesName))};R([()=>e.data,()=>e.colorMapping],()=>{_()},{deep:!0});const b=j(),{darkMode:k}=m(b),M=z(()=>k.value?"dark":"light");return(h,w)=>(u(),O(t(le),{ref_key:"chartRef",ref:d,option:t(r),theme:t(M),autoresize:!0,style:{height:"300px"},group:s.timeUnit},null,8,["option","theme","group"]))}},ye={class:"row"},fe={key:0,class:"col q-pl-md q-pt-md"},xe={class:"row"},he={key:0,class:"row"},ve={key:1,class:"text-h6"},_e={__name:"RegionStatsFlex",props:{timeUnit:{type:String,required:!0,validator(s){return["daily","hourly"].includes(s)}}},setup(s){const e=s,i=j(),a=Z("nr"),{selectedRegion:r,kpiColumnsFlex:d,kpiToExclude:_}=m(i),b=e.timeUnit==="daily"?E.dailyStatsRegionFlex:E.hourlyStatsRegionFlex,k=z(()=>ie(b,{tech:a.value,region:r.value})),M=[oe(k)],{isFetchingArray:h,errorArray:w,dataArray:c,isLoading:l,execute:f}=re(M,()=>{c.length>=0+1&&c.at(0).value&&c.at(0).value.data&&(e.timeUnit==="daily"&&(i.dailyStatsRegionFlex[a.value]=c.at(0).value.data,i.dailyStatsRegionFlexMeta[a.value]=c.at(0).value.meta),e.timeUnit==="hourly"&&(i.hourlyStatsRegionFlex[a.value]=c.at(0).value.data,i.hourlyStatsRegionFlexMeta[a.value]=c.at(0).value.meta))}),V=function(S){if(S==="daily")return m(i).dailyStatsRegionFlex;if(S==="hourly")return m(i).hourlyStatsRegionFlex}(e.timeUnit),A=se();R(l,()=>{if(l.value){A.loading.show({});return}A.loading.hide()});const{regionsArray:P}=m(i);R([r,a],()=>{f&&f().then(()=>{console.log(`Executed for ${r.value}`)})},{immediate:!0});const v=function(){if(e.timeUnit==="daily")return m(i).dailyStatsRegionFlexMeta;if(e.timeUnit==="hourly")return m(i).hourlyStatsRegionFlexMeta}(),{colorMapping:T,chartSizeClass:N}=m(i);return(S,g)=>(u(),y(C,null,[x("div",ye,[o(de,{options:t(P),modelValue:t(r),"onUpdate:modelValue":g[0]||(g[0]=n=>ue(r)?r.value=n:null),class:"col-xs-12 col-md-6 col-lg-4 col-xl-3 q-mb-md",outlined:""},null,8,["options","modelValue"]),t(v)[a.value].time?(u(),y("div",fe,[x("span",null,"Data Fetched @: "+F(new Date(t(v)[a.value].time))+",  ",1),x("span",null,"Region: "+F(t(v)[a.value].region)+",  ",1),x("span",null,"Tech: "+F(t(v)[a.value].tech.toUpperCase())+",  ",1)])):ce("",!0)]),o($,null,{default:p(()=>[o(me,{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=n=>a.value=n),dense:"",class:"",style:{border:"1px solid #6a6af1"},"active-color":"primary",align:"justify","narrow-indicator":"","active-class":"bg-primary text-white"},{default:p(()=>[o(L,{name:"nr",label:"NR"}),o(L,{name:"lte",label:"LTE"})]),_:1},8,["modelValue"]),o(pe),o(ge,{modelValue:a.value,"onUpdate:modelValue":g[2]||(g[2]=n=>a.value=n),animated:""},{default:p(()=>[o(Q,{name:"nr"},{default:p(()=>[x("div",xe,[(u(!0),y(C,null,q(t(d).nr.filter(n=>t(_).indexOf(n)===-1),n=>(u(),O($,{key:`flex-${a.value}-${n}`,class:D(t(N).value),style:{border:"1px blue solid"}},{default:p(()=>[o(B,{data:t(V).nr[n],kpiColumn:n,"time-unit":s.timeUnit,region:t(r),"color-mapping":t(T)},null,8,["data","kpiColumn","time-unit","region","color-mapping"])]),_:2},1032,["class"]))),128))])]),_:1}),o(Q,{name:"lte"},{default:p(()=>[s.timeUnit==="daily"?(u(),y("div",he,[(u(!0),y(C,null,q(t(d).lte,n=>(u(),O($,{key:`flex-${a.value}-${n}`,class:D(t(N).value),style:{border:"1px blue solid"}},{default:p(()=>[o(B,{data:t(V).lte[n],kpiColumn:n,"time-unit":s.timeUnit,region:t(r),"color-mapping":t(T)},null,8,["data","kpiColumn","time-unit","region","color-mapping"])]),_:2},1032,["class"]))),128))])):(u(),y("div",ve,"COMING SOON... Work In Progress."))]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}};export{_e as _};

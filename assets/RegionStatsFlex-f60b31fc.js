import{u as G,i as H,a as I,b as J,d as K,e as W,f as X,g as Y,h as ee,j as te,r as Z,w as _,k as ae,l as j,s as c,m as z,o as m,c as V,n as t,S as ne,p as le,q as L,t as ie,v as oe,x as re,y as se,z as R,A as f,B as o,C as ue,Q as de,D as U,E as ce,F as p,G as $,H as C,I as pe,J as Q,K as me,L as ge,M as q,N,O as D}from"./index-6d83c647.js";const B={__name:"EChartLineMulti",props:{data:{type:Array,required:!0},colorMapping:{type:Object,default:()=>{}},kpiColumn:{type:String,required:!0},addOption:{type:Object,default:()=>{}},showZoom:{type:Boolean,default:!0},timeUnit:{type:String,default:"daily"},theme:{type:String,default:"dark"},region:{type:String,default:""},cellName:{type:String,default:""}},setup(s){const e=s,i="Asia/Singapore",a=function(h,y,d=""){if(y===void 0){debugger;return{}}if(!y.map){debugger;return{}}return{renderer:"canvas",legend:{top:"11%",left:"10%",padding:[0,0,0,10],show:!0},dataZoom:[{type:"slider",show:e.showZoom}],grid:{left:"11%",top:"20%",right:"11%",bottom:e.showZoom?"25%":"13%"},xAxis:{type:"time",splitLine:{show:!1}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:n=>`${Math.round(n[0].value[1]*100)/100}`},title:{text:h,textStyle:{fontSize:15},triggerEvent:!0},yAxis:{splitLine:{show:!1},type:"value",scale:!0,name:"",axisLabel:{inside:!1,formatter:n=>n>=1e3?n.toExponential(0):n}},series:y.map(n=>{if(!n.data||!n.data.map)return{};const x={data:n.data.map(F=>[le(F[0],i),F[1]]),type:"line",name:n.name};return e.colorMapping[n.name]?{...x,itemStyle:{color:e.colorMapping[n.name]}}:x}),...e.addOption}},r=a(e.kpiColumn,e.data);G([H,I,J,K,W,X,Y,ee,te]);const u=Z(null);_(u,h=>{u.value&&ae(e.timeUnit)},{immediate:!0});const b=()=>{u.value&&u.value.setOption(a(e.kpiColumn,e.data,e.seriesName))};_([()=>e.data,()=>e.colorMapping],()=>{b()},{deep:!0});const w=j(),{darkMode:M}=c(w),k=z(()=>M.value?"dark":"light");return(h,y)=>(m(),V(t(ne),{ref_key:"chartRef",ref:u,option:t(r),theme:t(k),autoresize:!0,style:{height:"300px"},group:s.timeUnit},null,8,["option","theme","group"]))}},fe={class:"row"},ye={key:0,class:"col q-pl-md q-pt-md"},xe={class:"row"},he={class:"row"},Re={__name:"RegionStatsFlex",props:{timeUnit:{type:String,required:!0,validator(s){return["daily","hourly"].includes(s)}}},setup(s){const e=s,i=j(),a=Z("nr"),{selectedRegion:r,kpiColumnsFlex:u,kpiToExclude:b}=c(i),w=e.timeUnit==="daily"?L.dailyStatsRegionFlex:L.hourlyStatsRegionFlex,M=z(()=>ie(w,{tech:a.value,region:r.value})),k=[oe(M)],{isFetchingArray:h,errorArray:y,dataArray:d,isLoading:n,execute:x}=re(k,()=>{d.length>=0+1&&d.at(0).value&&d.at(0).value.data&&(e.timeUnit==="daily"&&(i.dailyStatsRegionFlex[a.value]=d.at(0).value.data,i.dailyStatsRegionFlexMeta[a.value]=d.at(0).value.meta),e.timeUnit==="hourly"&&(i.hourlyStatsRegionFlex[a.value]=d.at(0).value.data,i.hourlyStatsRegionFlexMeta[a.value]=d.at(0).value.meta))}),T=function(S){if(S==="daily")return c(i).dailyStatsRegionFlex;if(S==="hourly")return c(i).hourlyStatsRegionFlex}(e.timeUnit),A=se();_(n,()=>{if(n.value){A.loading.show({});return}A.loading.hide()});const{regionsArray:P}=c(i);_([r,a],()=>{x&&x().then(()=>{console.log(`Executed for ${r.value}`)})},{immediate:!0});const v=function(){if(e.timeUnit==="daily")return c(i).dailyStatsRegionFlexMeta;if(e.timeUnit==="hourly")return c(i).hourlyStatsRegionFlexMeta}(),{colorMapping:O,chartSizeClass:E}=c(i);return(S,g)=>(m(),R(C,null,[f("div",fe,[o(de,{options:t(P),modelValue:t(r),"onUpdate:modelValue":g[0]||(g[0]=l=>ue(r)?r.value=l:null),class:"col-xs-12 col-md-6 col-lg-4 col-xl-3 q-mb-md",outlined:""},null,8,["options","modelValue"]),t(v)[a.value].time?(m(),R("div",ye,[f("span",null,"Data Fetched @: "+U(new Date(t(v)[a.value].time))+",  ",1),f("span",null,"Region: "+U(t(v)[a.value].region)+",  ",1),f("span",null,"Tech: "+U(t(v)[a.value].tech.toUpperCase())+",  ",1)])):ce("",!0)]),o($,null,{default:p(()=>[o(pe,{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=l=>a.value=l),dense:"",class:"",style:{border:"1px solid #6a6af1"},"active-color":"primary",align:"justify","narrow-indicator":"","active-class":"bg-primary text-white"},{default:p(()=>[o(Q,{name:"nr",label:"NR"}),o(Q,{name:"lte",label:"LTE"})]),_:1},8,["modelValue"]),o(me),o(ge,{modelValue:a.value,"onUpdate:modelValue":g[2]||(g[2]=l=>a.value=l),animated:""},{default:p(()=>[o(q,{name:"nr"},{default:p(()=>[f("div",xe,[(m(!0),R(C,null,N(t(u).nr.filter(l=>t(b).indexOf(l)===-1),l=>(m(),V($,{key:`flex-${a.value}-${l}`,class:D(t(E).value),style:{border:"1px blue solid"}},{default:p(()=>[o(B,{data:t(T).nr[l],kpiColumn:l,"time-unit":s.timeUnit,region:t(r),"color-mapping":t(O)},null,8,["data","kpiColumn","time-unit","region","color-mapping"])]),_:2},1032,["class"]))),128))])]),_:1}),o(q,{name:"lte"},{default:p(()=>[f("div",he,[(m(!0),R(C,null,N(t(u).lte,l=>(m(),V($,{key:`flex-${a.value}-${l}`,class:D(t(E).value),style:{border:"1px blue solid"}},{default:p(()=>[o(B,{data:t(T).lte[l],kpiColumn:l,"time-unit":s.timeUnit,region:t(r),"color-mapping":t(O)},null,8,["data","kpiColumn","time-unit","region","color-mapping"])]),_:2},1032,["class"]))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}};export{Re as _};
